{"version":3,"file":"accepts.js","sourceRoot":"","sources":["../../../src/components/uploaded-file/accepts.ts"],"names":[],"mappings":"AAEA,MAAM,CAAC,OAAO,OAAO,OAAO;IAC1B,YAAY,CAAc;IAE1B,YAAY,YAAY;QACtB,IAAI,CAAC,YAAY,GAAG,YAAY,CAAA;IAClC,CAAC;IAED,IAAI,MAAM;QACR,IAAG,IAAI,CAAC,OAAO;YAAE,OAAO,IAAI,CAAC,OAAO,CAAA;QACpC,IAAI,CAAC,OAAO,GAAG,EAAE,CAAA;QAEjB,MAAM,OAAO,GAAG,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,CAAC,CAAC,IAAI,CAAC,YAAY,CAAC,OAAO,CAAC,KAAK,CAAC,MAAM,CAAC,CAAC,CAAC,CAAC,EAAE,CAAA;QAExF,IAAG,OAAO,CAAC,MAAM,GAAG,CAAC,IAAI,CAAC,OAAO,CAAC,QAAQ,CAAC,IAAI,CAAC,YAAY,CAAC,QAAQ,CAAC,EAAE,CAAC;YACvE,IAAI,CAAC,OAAO,CAAC,IAAI,CAAC,aAAa,IAAI,CAAC,SAAS,CAAC,OAAO,CAAC,GAAG,CAAC,CAAA;QAC5D,CAAC;QACD,OAAO,IAAI,CAAC,OAAO,CAAA;IACrB,CAAC;IAED,OAAO,CAAe;IAEd,SAAS,CAAC,KAAK;QACrB,IAAG,KAAK,CAAC,MAAM,IAAI,CAAC,EAAE,CAAC;YACrB,OAAO,CAAC,KAAK,CAAC,KAAK,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,GAAG,CAAC,MAAM,KAAK,CAAC,EAAE,CAAC,CAAC,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC,IAAI,CAAC,IAAI,CAAC,CAAA;QACjE,CAAC;aAAM,CAAC;YACN,OAAO,KAAK,CAAC,IAAI,CAAC,MAAM,CAAC,CAAA;QAC3B,CAAC;IACH,CAAC;CACF","sourcesContent":["import { UploadedFile } from './uploaded-file'\n\nexport default class Accepts {\n  uploadedFile: UploadedFile\n\n  constructor(uploadedFile) {\n    this.uploadedFile = uploadedFile\n  }\n\n  get errors() {\n    if(this.#errors) return this.#errors\n    this.#errors = []\n\n    const accepts = this.uploadedFile.accepts ? this.uploadedFile.accepts.split(/,\\s*/) : []\n\n    if(accepts.length > 0 && !accepts.includes(this.uploadedFile.filetype)) {\n      this.#errors.push(`Must be a ${this.joinWords(accepts)}.`)\n    }\n    return this.#errors\n  }\n\n  #errors: Array<string>\n\n  private joinWords(words) {\n    if(words.length >= 3) {\n      return (words.slice(0, -1) + [`or ${words.at(-1)}`]).join(\", \")\n    } else {\n      return words.join(\" or \")\n    }\n  }\n}\n\n"]}